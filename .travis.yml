language: python
matrix:
    include:
        - python: 3.8
          dist: bionic
before_install:
    -  python -m pip install "pip<22"
    -  python -m pip install --upgrade setuptools wheel
install:
    -  pip install -r requirements/ci.txt
    -  pip install redis-py-cluster
    -  pip install limits[rediscluster]
    -  pip install limits[async-redis]
script:
    -  python -m pytest
